{"version":3,"sources":["webpack://gamelib/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://gamelib/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://gamelib/./src/pages/MenuPage.ts"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","HomePage","name","playElement","controlsElement","scoresElement","creditsElement","router","firstTimeLoad","this","base","header","document","createElement","innerText","appendChild","play","href","id","classList","add","gs","globalState","audio","addEventListener","data","controls","scores","credits","setPlayLoaded","setCreditsLoaded","setKeysLoaded","setScoresLoaded","remove","requestTransition","level"],"mappings":"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","file":"480.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import { globalState } from \"..\";\nimport { BasePersistedData } from \"../core/data/BasePersistedData\";\nimport { GlobalState } from \"../core/menus/GlobalState\";\nimport { Page } from \"../core/menus/Page\";\nimport { Router } from \"../core/menus/Router\";\n\ntype GS = GlobalState<BasePersistedData>;\nexport class HomePage implements Page<GS> {\n  private playElement: HTMLElement;\n  private controlsElement: HTMLElement;\n  private scoresElement: HTMLElement;\n  private creditsElement: HTMLElement;\n  private router: Router<GS>;\n  private name: string;\n  private firstTimeLoad = true;\n\n  constructor(name: string) {\n    this.name = name;\n  }\n\n  load(base: HTMLElement, router: Router<GS>): void {\n    this.router = router;\n\n    const header = document.createElement(\"h1\");\n    header.innerText = this.name;\n    base.appendChild(header);\n\n    const play = document.createElement(\"a\");\n    play.href = \"#\";\n    play.id = \"play\";\n    play.classList.add(\"inactive\");\n    base.appendChild(play);\n    this.playElement = play;\n\n    const gs = globalState.getData();\n    const audio = document.createElement(\"a\");\n    audio.href = \"#\";\n    audio.id = \"audio\";\n    audio.innerText = gs.audio ? \"Audio (On)\" : \"Audio (Off)\";\n    base.appendChild(audio);\n\n    audio.addEventListener(\"click\", () => {\n      const data = globalState.getData();\n      data.audio = !data.audio;\n      globalState.setData(data);\n      audio.innerText = data.audio ? \"Audio (On)\" : \"Audio (Off)\";\n    });\n\n    const controls = document.createElement(\"a\");\n    controls.href = \"#\";\n    controls.id = \"controls\";\n    controls.innerText = \"Controls\";\n    controls.classList.add(\"inactive\");\n    base.appendChild(controls);\n    this.controlsElement = controls;\n\n    const scores = document.createElement(\"a\");\n    scores.href = \"#\";\n    scores.id = \"scores\";\n    scores.innerText = \"High Scores\";\n    scores.classList.add(\"inactive\");\n    base.appendChild(scores);\n    this.scoresElement = scores;\n\n    const credits = document.createElement(\"a\");\n    credits.href = \"#\";\n    credits.id = \"credits\";\n    credits.innerText = \"Credits\";\n    credits.classList.add(\"inactive\");\n    base.appendChild(credits);\n    this.creditsElement = credits;\n\n    if (!this.firstTimeLoad) {\n      this.setPlayLoaded();\n      this.setCreditsLoaded();\n      this.setKeysLoaded();\n      this.setScoresLoaded();\n    }\n    this.firstTimeLoad = false;\n  }\n\n  public setPlayLoaded(): void {\n    this.playElement.classList.remove(\"inactive\");\n    this.playElement.innerText = \"Play\";\n    this.playElement.addEventListener(\"click\", () => {\n      this.router.requestTransition(\"play\", true, { level: 1 });\n    });\n  }\n\n  public setCreditsLoaded(): void {\n    this.creditsElement.classList.remove(\"inactive\");\n    this.creditsElement.addEventListener(\"click\", () => {\n      this.router.requestTransition(\"credits\");\n    });\n  }\n\n  public setScoresLoaded(): void {\n    this.scoresElement.classList.remove(\"inactive\");\n    this.scoresElement.addEventListener(\"click\", () => {\n      this.router.requestTransition(\"scores\");\n    });\n  }\n\n  public setKeysLoaded(): void {\n    this.controlsElement.classList.remove(\"inactive\");\n    this.controlsElement.addEventListener(\"click\", () => {\n      this.router.requestTransition(\"keys\");\n    });\n  }\n\n  init(): void {\n    return;\n  }\n\n  canTransition(): boolean {\n    return true;\n  }\n\n  cleanup(): void {\n    return;\n  }\n}\n"],"sourceRoot":""}