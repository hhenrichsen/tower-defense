{"version":3,"sources":["webpack://gamelib/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://gamelib/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://gamelib/./src/pages/MenuPage.ts"],"names":["HomePage","name","playElement","controlsElement","scoresElement","creditsElement","router","firstTimeLoad","base","header","document","createElement","innerText","appendChild","play","href","id","classList","add","gs","globalState","audio","addEventListener","data","controls","scores","credits","setPlayLoaded","setCreditsLoaded","setKeysLoaded","setScoresLoaded","remove","requestTransition","level"],"mappings":"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","file":"src_pages_MenuPage_ts.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import { globalState } from \"..\";\nimport { BasePersistedData } from \"../core/data/BasePersistedData\";\nimport { GlobalState } from \"../core/menus/GlobalState\";\nimport { Page } from \"../core/menus/Page\";\nimport { Router } from \"../core/menus/Router\";\n\ntype GS = GlobalState<BasePersistedData>;\nexport class HomePage implements Page<GS> {\n  private playElement: HTMLElement;\n  private controlsElement: HTMLElement;\n  private scoresElement: HTMLElement;\n  private creditsElement: HTMLElement;\n  private router: Router<GS>;\n  private name: string;\n  private firstTimeLoad = true;\n\n  constructor(name: string) {\n    this.name = name;\n  }\n\n  load(base: HTMLElement, router: Router<GS>): void {\n    this.router = router;\n\n    const header = document.createElement(\"h1\");\n    header.innerText = this.name;\n    base.appendChild(header);\n\n    const play = document.createElement(\"a\");\n    play.href = \"#\";\n    play.id = \"play\";\n    play.classList.add(\"inactive\");\n    base.appendChild(play);\n    this.playElement = play;\n\n    const gs = globalState.getData();\n    const audio = document.createElement(\"a\");\n    audio.href = \"#\";\n    audio.id = \"audio\";\n    audio.innerText = gs.audio ? \"Audio (On)\" : \"Audio (Off)\";\n    base.appendChild(audio);\n\n    audio.addEventListener(\"click\", () => {\n      const data = globalState.getData();\n      data.audio = !data.audio;\n      globalState.setData(data);\n      audio.innerText = data.audio ? \"Audio (On)\" : \"Audio (Off)\";\n    });\n\n    const controls = document.createElement(\"a\");\n    controls.href = \"#\";\n    controls.id = \"controls\";\n    controls.innerText = \"Controls\";\n    controls.classList.add(\"inactive\");\n    base.appendChild(controls);\n    this.controlsElement = controls;\n\n    const scores = document.createElement(\"a\");\n    scores.href = \"#\";\n    scores.id = \"scores\";\n    scores.innerText = \"High Scores\";\n    scores.classList.add(\"inactive\");\n    base.appendChild(scores);\n    this.scoresElement = scores;\n\n    const credits = document.createElement(\"a\");\n    credits.href = \"#\";\n    credits.id = \"credits\";\n    credits.innerText = \"Credits\";\n    credits.classList.add(\"inactive\");\n    base.appendChild(credits);\n    this.creditsElement = credits;\n\n    if (!this.firstTimeLoad) {\n      this.setPlayLoaded();\n      this.setCreditsLoaded();\n      this.setKeysLoaded();\n      this.setScoresLoaded();\n    }\n    this.firstTimeLoad = false;\n  }\n\n  public setPlayLoaded(): void {\n    this.playElement.classList.remove(\"inactive\");\n    this.playElement.innerText = \"Play\";\n    this.playElement.addEventListener(\"click\", () => {\n      this.router.requestTransition(\"play\", true, { level: 1 });\n    });\n  }\n\n  public setCreditsLoaded(): void {\n    this.creditsElement.classList.remove(\"inactive\");\n    this.creditsElement.addEventListener(\"click\", () => {\n      this.router.requestTransition(\"credits\");\n    });\n  }\n\n  public setScoresLoaded(): void {\n    this.scoresElement.classList.remove(\"inactive\");\n    this.scoresElement.addEventListener(\"click\", () => {\n      this.router.requestTransition(\"scores\");\n    });\n  }\n\n  public setKeysLoaded(): void {\n    this.controlsElement.classList.remove(\"inactive\");\n    this.controlsElement.addEventListener(\"click\", () => {\n      this.router.requestTransition(\"keys\");\n    });\n  }\n\n  init(): void {\n    return;\n  }\n\n  canTransition(): boolean {\n    return true;\n  }\n\n  cleanup(): void {\n    return;\n  }\n}\n"],"sourceRoot":""}